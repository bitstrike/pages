<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASCII Box Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .box {
            font-family: monospace;
            white-space: pre;
        }
    </style>
</head>
<body>
    <h1>ASCII Box Generator</h1>
    <form id="boxForm">
        <label for="message">Message:</label><br>
        <textarea id="message" name="message" rows="4" cols="50" required></textarea><br><br>
        <label for="boxStyle">Box Style:</label>
        <select id="boxStyle" name="boxStyle">
            <option value="1">Single Line</option>
            <option value="2" selected>Double Line</option>
        </select><br><br>
        <label for="maxLength">Max Length:</label>
        <input type="number" id="maxLength" name="maxLength" min="1"><br><br>
        <input type="submit" value="Generate Box">
    </form>
    <h2>Generated Box:</h2>
    <div id="output" class="box"></div>

    <script>
        document.getElementById('boxForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const message = document.getElementById('message').value;
            const boxStyle = parseInt(document.getElementById('boxStyle').value);
            const maxLength = document.getElementById('maxLength').value !== '' ? parseInt(document.getElementById('maxLength').value) : null;

            const box = createBox(message, boxStyle, maxLength);
            document.getElementById('output').textContent = box;
        });

        function createBox(origMessage, boxStyle = 2, maxLength = null) {
            let topBottom, corners, vertical;
            if (boxStyle === 1) {
                topBottom = '─';
                corners = '┌┐└┘';
                vertical = '│';
            } else {
                topBottom = '═';
                corners = '╔╗╚╝';
                vertical = '║';
            }

            let lines;
            if (maxLength && origMessage.length > maxLength) {
                lines = wrapText(origMessage, maxLength);
            } else {
                lines = [origMessage];
            }

            const paddedLines = lines.map(line => ' ' + line + ' ');
            const contentWidth = Math.max(...paddedLines.map(line => line.length));

            const top = `${corners[0]}${topBottom.repeat(contentWidth)}${corners[1]}`;
            const bottom = `${corners[2]}${topBottom.repeat(contentWidth)}${corners[3]}░`;

            const content = paddedLines.map(line => {
                const padded = line.padEnd(contentWidth);
                return `${vertical}${padded}${vertical}░`;
            });

            const shadowWidth = contentWidth + 1;
            const shadow = "  " + "░".repeat(shadowWidth);

            return [top, ...content, bottom, shadow].join('\n');
        }

        function wrapText(text, maxLength) {
            const words = text.split(' ');
            const lines = [];
            let tempLine = '';

            words.forEach(word => {
                if ((tempLine + word).length > maxLength) {
                    lines.push(tempLine.trim());
                    tempLine = '';
                }
                tempLine += word + ' ';
            });
            lines.push(tempLine.trim());
            return lines;
        }
    </script>
</body>
</html>

